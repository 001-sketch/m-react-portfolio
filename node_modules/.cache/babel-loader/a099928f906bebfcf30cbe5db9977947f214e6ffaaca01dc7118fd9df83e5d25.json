{"ast":null,"code":"import React,{useEffect,useState,createContext}from\"react\";import{LightTheme,DarkTheme}from\"./Themes\";import{MuiThemeProvider}from\"@material-ui/core/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ThemeContext=/*#__PURE__*/createContext();export const ThemeProvider=_ref=>{let{children}=_ref;const getInitialMode=()=>{if(typeof localStorage===\"undefined\")return true;const isReturningUser=\"dark\"in localStorage;const savedMode=JSON.parse(localStorage.getItem(\"dark\"));const userPrefersDark=getPrefColorScheme();if(isReturningUser){return savedMode;}return!!userPrefersDark;};const getPrefColorScheme=()=>{if(!window.matchMedia)return;return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;};const[theme,setTheme]=useState(getInitialMode()?\"dark\":\"light\");const toggleTheme=()=>{if(theme===\"light\"){setTheme(\"dark\");}else{setTheme(\"light\");}};useEffect(()=>{typeof localStorage!==\"undefined\"&&localStorage.setItem(\"dark\",JSON.stringify(theme===\"dark\"));},[theme]);return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:{theme,toggleTheme},children:/*#__PURE__*/_jsx(MuiThemeProvider,{theme:theme===\"light\"?LightTheme:DarkTheme,children:children})});};","map":{"version":3,"names":["React","useEffect","useState","createContext","LightTheme","DarkTheme","MuiThemeProvider","jsx","_jsx","ThemeContext","ThemeProvider","_ref","children","getInitialMode","localStorage","isReturningUser","savedMode","JSON","parse","getItem","userPrefersDark","getPrefColorScheme","window","matchMedia","matches","theme","setTheme","toggleTheme","setItem","stringify","Provider","value"],"sources":["/home/mica/react-portfolio/src/components/theme/ThemeProvider.js"],"sourcesContent":["import React, { useEffect, useState, createContext } from \"react\";\nimport { LightTheme, DarkTheme } from \"./Themes\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\n\nexport const ThemeContext = createContext();\n\nexport const ThemeProvider = ({ children }) => {\n    const getInitialMode = () => {\n        if (typeof localStorage === \"undefined\") return true;\n        const isReturningUser = \"dark\" in localStorage;\n        const savedMode = JSON.parse(localStorage.getItem(\"dark\"));\n        const userPrefersDark = getPrefColorScheme();\n        if (isReturningUser) {\n            return savedMode;\n        }\n        return !!userPrefersDark;\n    };\n\n    const getPrefColorScheme = () => {\n        if (!window.matchMedia) return;\n\n        return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n    };\n\n    const [theme, setTheme] = useState(getInitialMode() ? \"dark\" : \"light\");\n\n    const toggleTheme = () => {\n        if (theme === \"light\") {\n            setTheme(\"dark\");\n        } else {\n            setTheme(\"light\");\n        }\n    };\n\n    useEffect(() => {\n        typeof localStorage !== \"undefined\" &&\n            localStorage.setItem(\"dark\", JSON.stringify(theme === \"dark\"));\n    }, [theme]);\n\n    return (\n        <ThemeContext.Provider\n            value={{\n                theme,\n                toggleTheme,\n            }}\n        >\n            <MuiThemeProvider\n                theme={theme === \"light\" ? LightTheme : DarkTheme}\n            >\n                {children}\n            </MuiThemeProvider>\n        </ThemeContext.Provider>\n    );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,aAAa,KAAQ,OAAO,CACjE,OAASC,UAAU,CAAEC,SAAS,KAAQ,UAAU,CAChD,OAASC,gBAAgB,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,MAAM,CAAAC,YAAY,cAAGN,aAAa,CAAC,CAAC,CAE3C,MAAO,MAAM,CAAAO,aAAa,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACtC,KAAM,CAAAE,cAAc,CAAGA,CAAA,GAAM,CACzB,GAAI,MAAO,CAAAC,YAAY,GAAK,WAAW,CAAE,MAAO,KAAI,CACpD,KAAM,CAAAC,eAAe,CAAG,MAAM,EAAI,CAAAD,YAAY,CAC9C,KAAM,CAAAE,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACK,OAAO,CAAC,MAAM,CAAC,CAAC,CAC1D,KAAM,CAAAC,eAAe,CAAGC,kBAAkB,CAAC,CAAC,CAC5C,GAAIN,eAAe,CAAE,CACjB,MAAO,CAAAC,SAAS,CACpB,CACA,MAAO,CAAC,CAACI,eAAe,CAC5B,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC7B,GAAI,CAACC,MAAM,CAACC,UAAU,CAAE,OAExB,MAAO,CAAAD,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,CACpE,CAAC,CAED,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAACW,cAAc,CAAC,CAAC,CAAG,MAAM,CAAG,OAAO,CAAC,CAEvE,KAAM,CAAAc,WAAW,CAAGA,CAAA,GAAM,CACtB,GAAIF,KAAK,GAAK,OAAO,CAAE,CACnBC,QAAQ,CAAC,MAAM,CAAC,CACpB,CAAC,IAAM,CACHA,QAAQ,CAAC,OAAO,CAAC,CACrB,CACJ,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACZ,MAAO,CAAAa,YAAY,GAAK,WAAW,EAC/BA,YAAY,CAACc,OAAO,CAAC,MAAM,CAAEX,IAAI,CAACY,SAAS,CAACJ,KAAK,GAAK,MAAM,CAAC,CAAC,CACtE,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,mBACIjB,IAAA,CAACC,YAAY,CAACqB,QAAQ,EAClBC,KAAK,CAAE,CACHN,KAAK,CACLE,WACJ,CAAE,CAAAf,QAAA,cAEFJ,IAAA,CAACF,gBAAgB,EACbmB,KAAK,CAAEA,KAAK,GAAK,OAAO,CAAGrB,UAAU,CAAGC,SAAU,CAAAO,QAAA,CAEjDA,QAAQ,CACK,CAAC,CACA,CAAC,CAEhC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}